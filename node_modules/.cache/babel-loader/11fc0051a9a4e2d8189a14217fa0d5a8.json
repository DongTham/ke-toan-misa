{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport TheButton from '../base/TheButton.vue';\nimport { selectPageSize } from '../../i18n/i18nCommon';\nimport { headerTableName } from \"../../i18n/i18nCommon\";\nimport moment from 'moment';\nexport default {\n  name: \"TheContent\",\n  components: {\n    TheButton\n  },\n  props: {},\n  emits: [],\n  created() {\n    const me = this;\n    me.getAllData();\n  },\n  methods: {\n    getAllData() {\n      const me = this;\n      fetch(`https://amis.manhnv.net/api/v1/Employees/filter?pageSize=${me.pageSize}&pageNumber=${me.pageNumber}`, {\n        method: 'GET',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(res => res.json()).then(data => {\n        me.employeeList = data.Data;\n        me.numberRecords = data.TotalRecord;\n        me.totalPages = data.TotalPage;\n      }).catch(error => {\n        if (me.pageNumber != 1) {\n          me.pageNumber = 1;\n          me.getAllData();\n        } else {\n          console.log(error);\n        }\n      });\n    },\n    convertFormatDate(date) {\n      return date ? moment(date).format('DD/MM/YYYY') : date;\n    },\n    isCheckItem(el) {\n      const me = this;\n      return me.selectedEmpolyee.includes(el);\n    },\n    checkAllItems() {\n      const me = this;\n      if (me.selectedEmpolyee.length == me.employeeList.length) {\n        me.selectedEmpolyee.length = 0;\n      } else {\n        me.selectedEmpolyee.length = 0;\n        me.employeeList.forEach(value => me.selectedEmpolyee.push(value.EmployeeId));\n      }\n    },\n    checkSingleItem(el) {\n      const me = this;\n      const index = me.selectedEmpolyee.indexOf(el);\n      if (index > -1) {\n        me.selectedEmpolyee.splice(index, 1);\n      } else {\n        me.selectedEmpolyee.push(el);\n      }\n    },\n    handleShowPageSize() {\n      const me = this;\n      me.showSelectPageSize = me.showSelectPageSize ? false : true;\n    },\n    handleSelectPageSize(el) {\n      const me = this;\n      me.showSelectPageSize = false;\n      me.pageSize = el;\n      me.getAllData();\n    },\n    handleChangePage(el) {\n      const me = this;\n      me.pageNumber = el;\n      me.getAllData();\n    },\n    handleSelectContextMenu(index) {\n      const me = this;\n      me.showSelectContextMenu = index;\n    }\n  },\n  data() {\n    return {\n      showSelectPageSize: false,\n      showSelectContextMenu: -1,\n      employeeList: [],\n      pageSize: 20,\n      pageNumber: 1,\n      numberRecords: 0,\n      totalPages: 0,\n      selectPageSize: selectPageSize,\n      headerTableName: headerTableName,\n      disableButtonPrev: true,\n      disableButtonNext: false,\n      selectedEmpolyee: []\n    };\n  }\n};","map":{"version":3,"mappings":"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","names":["TheButton","selectPageSize","headerTableName","moment","name","components","props","emits","created","me","getAllData","methods","fetch","pageSize","pageNumber","method","headers","then","res","json","data","employeeList","Data","numberRecords","TotalRecord","totalPages","TotalPage","catch","error","console","log","convertFormatDate","date","format","isCheckItem","el","selectedEmpolyee","includes","checkAllItems","length","forEach","value","push","EmployeeId","checkSingleItem","index","indexOf","splice","handleShowPageSize","showSelectPageSize","handleSelectPageSize","handleChangePage","handleSelectContextMenu","showSelectContextMenu","disableButtonPrev","disableButtonNext"],"sourceRoot":"","sources":["D:\\Tài Liệu Fresher Misa\\Web 09\\ke-toan-misa\\src\\components\\layout\\TheContent.vue"],"sourcesContent":["<template>\r\n    <div class=\"main\">\r\n                <div class=\"main-header\">\r\n                    <div class=\"main__header-wrapper\">\r\n                        <div class=\"main__header-title\">\r\n                            <span>Nhân viên</span>\r\n                        </div>\r\n                        <div class=\"main__header-add\">\r\n                            <button class=\"btn btn-add\">Thêm mới nhân viên</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"main-body\">\r\n                    <div class=\"main__body-function\">\r\n                        <div class=\"function-left\">\r\n                            <button class=\"btn batch-operation\">\r\n                                    <div class=\"button-text align-center\">\r\n                                        <span>Thực hiện hàng loạt</span>\r\n                                        <div class=\"btn-icon btn-batch-operation\"></div>\r\n                                    </div>\r\n                                </button>\r\n                        </div>\r\n                        <div class=\"function-right\">\r\n                            <div class=\"function__search\">\r\n                                <input type=\"text\" class=\"input-main\" placeholder=\"Tìm theo mã, tên nhân viên\">\r\n                                <button class=\"btn-icon btn-search\"></button>\r\n                            </div>\r\n                            <button class=\"btn-icon main__icon btn-reload\"></button>\r\n                            <button class=\"btn-icon main__icon btn-export\"></button>\r\n                            <button class=\"btn-icon main__icon btn-filter\"></button>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class=\"main__body-table\">\r\n                        <table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th class=\"ms-hidden\"></th>\r\n                                    <th class=\"ms-th-viewer ms-sticky\">\r\n                                        <input type=\"checkbox\" @click=\"checkAllItems\" v-bind:checked=\"selectedEmpolyee.length == employeeList.length\">\r\n                                    </th>\r\n                                    <th class=\"ms-th-viewer\" v-for=\"(item, index) in headerTableName\" :key=\"index\">{{item.Name}}</th>\r\n                                    <th class=\"ms-th-viewer ms-sticky\">Chức năng</th>\r\n                                    <th class=\"ms-hidden\"></th>\r\n                                    <th class=\"ms-hidden\"></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr v-for=\"(item, index) in employeeList\" :key=\"index\" v-bind:tabindex=\"index\">\r\n                                    <td class=\"ms-hidden\"></td>\r\n                                    <td class=\"ms-td-viewer ms-sticky\">\r\n                                        <input type=\"checkbox\" @click=\"checkSingleItem(item.EmployeeId)\" v-bind:checked=\"isCheckItem(item.EmployeeId)\">\r\n                                    </td>\r\n                                    <td class=\"ms-td-viewer\">{{item.EmployeeCode}}</td>\r\n                                    <td class=\"ms-td-viewer\">{{item.EmployeeName}}</td>\r\n                                    <td class=\"ms-td-viewer\">{{item.Gender == 0 ? 'Nam': item.Gender == 1 ? 'Nữ' : item.Gender == 2 ? 'Khác' : item.Gender }}</td>\r\n                                    <td class=\"ms-td-viewer\">{{convertFormatDate(item.DateOfBirth)}}</td>\r\n                                    <td class=\"ms-td-viewer\">{{item.IdentityNumber}}</td>\r\n                                    <td class=\"ms-td-viewer\">{{item.IdentityPlace}}</td>\r\n                                    <td class=\"ms-td-viewer\">{{item.DepartmentName}}</td>\r\n                                    <td class=\"ms-td-viewer\">{{item.BankAccountNumber}}</td>\r\n                                    <td class=\"ms-td-viewer\">{{item.BankName}}</td>\r\n                                    <td class=\"ms-td-viewer\">{{item.BankBranchName}}</td>\r\n                                    <div class=\"combobox__data\" v-show=\"showSelectContextMenu == index ? true : false\">\r\n                                        <div class=\"data-item\">Nhân bản</div>\r\n                                        <div class=\"data-item\">Xóa</div>\r\n                                        <div class=\"data-item\">Ngừng sử dụng</div>\r\n                                    </div>\r\n                                    \r\n                                    <td class=\"ms-td-viewer ms-sticky td-context-menu\">\r\n                                            <button class=\"btn-edit\">Sửa</button>\r\n                                            <the-button class=\"btn-selectdown combobox__button\" @click=\"handleSelectContextMenu(index)\"></the-button>                                 \r\n                                    </td>\r\n                                    <td class=\"ms-hidden\"></td>\r\n                                    <td class=\"ms-hidden\"></td>\r\n                                </tr> \r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    <div class=\"main__body-footer\">\r\n                        <div class=\"body__footer-left\">\r\n                            <p>Tổng số: <b>{{numberRecords}}</b> bản ghi</p>\r\n                        </div>\r\n                        <div class=\"body__footer-right\">\r\n                            <div class=\"combobox select-record\">\r\n                                <input type=\"text\" class=\"input-main combobox__input select__record-input\" v-bind:value=\"pageSize + ' bản ghi trên 1 trang'\" readonly>\r\n                                <button class=\"btn-selectdown combobox__button\" @click=\"handleShowPageSize\"></button>\r\n                                <div class=\"combobox__data\" v-show=\"showSelectPageSize\" >\r\n                                    <div class=\"data-item\" v-for=\"(item, index) in selectPageSize\" :key=\"index\" @click=\"handleSelectPageSize(item.Value)\" v-bind:class=\"item.Value == pageSize ? 'active-item' : ''\">{{item.Value}} bản ghi trên 1 trang</div>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <button class=\"btn btn-prev\" v-bind:disabled=\"pageNumber == 1 ? disableButtonPrev : !disableButtonPrev\" @click=\"handleChangePage(pageNumber - 1)\">Trước</button>\r\n                            <div class=\"pagination\">\r\n                                <div class=\"btn-pagination\" v-for=\"(item, index) in totalPages\" :key=\"index\" @click=\"handleChangePage(item)\" v-bind:class=\"item == pageNumber ? 'active-item' : ''\">{{item}}</div>\r\n                            </div>\r\n                            \r\n                            <button class=\"btn btn-next\" v-bind:disabled=\"pageNumber == totalPages ? !disableButtonNext : disableButtonNext\" @click=\"handleChangePage(pageNumber + 1)\">Sau</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n</template>\r\n  \r\n<script>\r\nimport TheButton from '../base/TheButton.vue'\r\nimport {selectPageSize} from '../../i18n/i18nCommon'\r\nimport { headerTableName } from \"../../i18n/i18nCommon\";\r\nimport moment from 'moment';\r\n\r\nexport default {\r\n    name:\"TheContent\",\r\n    components: {\r\n        TheButton\r\n    },\r\n    props: {\r\n\r\n    },\r\n    emits:[],\r\n    created() {\r\n        const me = this;\r\n        me.getAllData();\r\n    },\r\n    methods:{\r\n        getAllData(){\r\n            const me = this;\r\n            fetch(`https://amis.manhnv.net/api/v1/Employees/filter?pageSize=${me.pageSize}&pageNumber=${me.pageNumber}`,{\r\n            method: 'GET',\r\n            headers:{\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n            }).then((res) => res.json()).then((data) =>{\r\n                me.employeeList = data.Data;\r\n                me.numberRecords = data.TotalRecord;\r\n                me.totalPages = data.TotalPage;\r\n            }).catch((error) =>{\r\n                if(me.pageNumber != 1){\r\n                    me.pageNumber = 1;\r\n                    me.getAllData();\r\n                } else{\r\n                    console.log(error);\r\n                }\r\n            })\r\n        },\r\n\r\n        convertFormatDate(date) {\r\n            return date ? moment(date).format('DD/MM/YYYY') : date;\r\n        },\r\n\r\n        isCheckItem(el){\r\n            const me = this;\r\n            return me.selectedEmpolyee.includes(el);\r\n        },\r\n\r\n        checkAllItems(){\r\n            const me = this;\r\n            if(me.selectedEmpolyee.length == me.employeeList.length){\r\n                me.selectedEmpolyee.length = 0;\r\n            } else{\r\n                me.selectedEmpolyee.length = 0;\r\n                me.employeeList.forEach(value => me.selectedEmpolyee.push(value.EmployeeId));\r\n            }\r\n        },\r\n\r\n        checkSingleItem(el){\r\n            const me = this;\r\n            const index = me.selectedEmpolyee.indexOf(el);\r\n            if(index  > -1){\r\n                me.selectedEmpolyee.splice(index, 1);\r\n            } else{\r\n                me.selectedEmpolyee.push(el);\r\n            }\r\n            \r\n        },\r\n\r\n        handleShowPageSize(){\r\n            const me = this;\r\n            me.showSelectPageSize = me.showSelectPageSize ? false : true;\r\n        },\r\n\r\n        handleSelectPageSize(el){\r\n            const me = this;\r\n            me.showSelectPageSize = false;\r\n            me.pageSize = el;\r\n            me.getAllData();\r\n        },\r\n\r\n        handleChangePage(el){\r\n            const me = this;\r\n            me.pageNumber = el;\r\n            me.getAllData();\r\n        },\r\n\r\n        handleSelectContextMenu(index){\r\n            const me = this;\r\n            me.showSelectContextMenu = index;\r\n        },\r\n    },\r\n    data(){\r\n        return{\r\n            showSelectPageSize: false, \r\n            showSelectContextMenu: -1,\r\n            employeeList: [],\r\n            pageSize: 20,\r\n            pageNumber: 1,\r\n            numberRecords: 0,\r\n            totalPages: 0,\r\n            selectPageSize: selectPageSize,\r\n            headerTableName: headerTableName,\r\n            disableButtonPrev: true,\r\n            disableButtonNext: false,\r\n            selectedEmpolyee: []\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import url(../../style/main.css);\r\n@import url(../../style/layout/footer.css);\r\n</style>"]},"metadata":{},"sourceType":"module"}