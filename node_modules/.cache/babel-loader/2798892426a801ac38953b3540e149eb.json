{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport TheButton from '../base/TheButton.vue';\nimport { selectPageSize } from '../../i18n/i18nCommon';\nimport { headerTableName } from \"../../i18n/i18nCommon\";\nimport moment from 'moment';\nexport default {\n  name: \"TheContent\",\n  components: {\n    TheButton\n  },\n  props: {},\n  emits: [],\n  created() {\n    const me = this;\n    me.getAllData();\n  },\n  methods: {\n    getAllData() {\n      const me = this;\n      fetch(`https://amis.manhnv.net/api/v1/Employees/filter?pageSize=${me.pageSize}&pageNumber=${me.pageNumber}`, {\n        method: 'GET',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(res => res.json()).then(data => {\n        me.employeeList = data.Data;\n        me.numberRecords = data.TotalRecord;\n        me.totalPages = data.TotalPage;\n      }).catch(error => {\n        if (me.pageNumber != 1) {\n          me.pageNumber = 1;\n          me.getAllData();\n        } else {\n          console.log(error);\n        }\n      });\n    },\n    convertFormatDate(date) {\n      return date ? moment(date).format('DD/MM/YYYY') : date;\n    },\n    isCheckItem(el) {\n      const me = this;\n      return me.selectedEmpolyee.includes(el);\n    },\n    checkAllItems() {\n      const me = this;\n      if (me.selectedEmpolyee.length == me.employeeList.length) {\n        me.selectedEmpolyee.length = 0;\n      } else {\n        me.selectedEmpolyee.length = 0;\n        me.employeeList.forEach(value => me.selectedEmpolyee.push(value.EmployeeId));\n      }\n    },\n    checkSingleItem(el) {\n      const me = this;\n      const index = me.selectedEmpolyee.indexOf(el);\n      if (index > -1) {\n        me.selectedEmpolyee.splice(index, 1);\n      } else {\n        me.selectedEmpolyee.push(el);\n      }\n    },\n    handleShowPageSize() {\n      const me = this;\n      me.showSelectPageSize = me.showSelectPageSize ? false : true;\n    },\n    handleSelectPageSize(el) {\n      const me = this;\n      me.showSelectPageSize = false;\n      me.selectedEmpolyee.length = 0;\n      me.pageSize = el;\n      me.getAllData();\n    },\n    handleChangePage(el) {\n      const me = this;\n      me.pageNumber = el;\n      me.selectedEmpolyee.length = 0;\n      me.getAllData();\n    },\n    handleSelectContextMenu(index) {\n      const me = this;\n      me.showSelectContextMenu = index;\n    }\n  },\n  data() {\n    return {\n      showSelectPageSize: false,\n      showSelectContextMenu: -1,\n      employeeList: [],\n      pageSize: 20,\n      pageNumber: 1,\n      numberRecords: 0,\n      totalPages: 0,\n      selectPageSize: selectPageSize,\n      headerTableName: headerTableName,\n      disableButtonPrev: true,\n      disableButtonNext: false,\n      selectedEmpolyee: []\n    };\n  }\n};","map":{"version":3,"mappings":"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","names":["TheButton","selectPageSize","headerTableName","moment","name","components","props","emits","created","me","getAllData","methods","fetch","pageSize","pageNumber","method","headers","then","res","json","data","employeeList","Data","numberRecords","TotalRecord","totalPages","TotalPage","catch","error","console","log","convertFormatDate","date","format","isCheckItem","el","selectedEmpolyee","includes","checkAllItems","length","forEach","value","push","EmployeeId","checkSingleItem","index","indexOf","splice","handleShowPageSize","showSelectPageSize","handleSelectPageSize","handleChangePage","handleSelectContextMenu","showSelectContextMenu","disableButtonPrev","disableButtonNext"],"sourceRoot":"","sources":["/Users/minhhq/Documents/ke-toan-misa/src/components/layout/TheContent.vue"],"sourcesContent":["<template>\n    <div class=\"main\">\n                <div class=\"main-header\">\n                    <div class=\"main__header-wrapper\">\n                        <div class=\"main__header-title\">\n                            <span>Nhân viên</span>\n                        </div>\n                        <div class=\"main__header-add\">\n                            <button class=\"btn btn-add\">Thêm mới nhân viên</button>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"main-body\">\n                    <div class=\"main__body-function\">\n                        <div class=\"function-left\">\n                            <button class=\"btn batch-operation\">\n                                    <div class=\"button-text align-center\">\n                                        <span>Thực hiện hàng loạt</span>\n                                        <div class=\"btn-icon btn-batch-operation\"></div>\n                                    </div>\n                                </button>\n                        </div>\n                        <div class=\"function-right\">\n                            <div class=\"function__search\">\n                                <input type=\"text\" class=\"input-main\" placeholder=\"Tìm theo mã, tên nhân viên\">\n                                <button class=\"btn-icon btn-search\"></button>\n                            </div>\n                            <button class=\"btn-icon main__icon btn-reload\"></button>\n                            <button class=\"btn-icon main__icon btn-export\"></button>\n                            <button class=\"btn-icon main__icon btn-filter\"></button>\n                        </div>\n\n                    </div>\n                    <div class=\"main__body-table\">\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th class=\"ms-hidden\"></th>\n                                    <th class=\"ms-th-viewer ms-sticky\">\n                                        <input type=\"checkbox\" @click=\"checkAllItems\" v-bind:checked=\"selectedEmpolyee.length == employeeList.length\">\n                                    </th>\n                                    <th class=\"ms-th-viewer\" v-for=\"(item, index) in headerTableName\" :key=\"index\">{{item.Name}}</th>\n                                    <th class=\"ms-th-viewer ms-sticky\">Chức năng</th>\n                                    <th class=\"ms-hidden\"></th>\n                                    <th class=\"ms-hidden\"></th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr v-for=\"(item, index) in employeeList\" :key=\"index\" v-bind:tabindex=\"index\">\n                                    <td class=\"ms-hidden\"></td>\n                                    <td class=\"ms-td-viewer ms-sticky\">\n                                        <input type=\"checkbox\" @click=\"checkSingleItem(item.EmployeeId)\" v-bind:checked=\"isCheckItem(item.EmployeeId)\">\n                                    </td>\n                                    <td class=\"ms-td-viewer\">{{item.EmployeeCode}}</td>\n                                    <td class=\"ms-td-viewer\">{{item.EmployeeName}}</td>\n                                    <td class=\"ms-td-viewer\">{{item.Gender == 0 ? 'Nam': item.Gender == 1 ? 'Nữ' : item.Gender == 2 ? 'Khác' : item.Gender }}</td>\n                                    <td class=\"ms-td-viewer\">{{convertFormatDate(item.DateOfBirth)}}</td>\n                                    <td class=\"ms-td-viewer\">{{item.IdentityNumber}}</td>\n                                    <td class=\"ms-td-viewer\">{{item.IdentityPlace}}</td>\n                                    <td class=\"ms-td-viewer\">{{item.DepartmentName}}</td>\n                                    <td class=\"ms-td-viewer\">{{item.BankAccountNumber}}</td>\n                                    <td class=\"ms-td-viewer\">{{item.BankName}}</td>\n                                    <td class=\"ms-td-viewer\">{{item.BankBranchName}}</td>\n                                    <div class=\"combobox__data\" v-show=\"showSelectContextMenu == index ? true : false\">\n                                        <div class=\"data-item\">Nhân bản</div>\n                                        <div class=\"data-item\">Xóa</div>\n                                        <div class=\"data-item\">Ngừng sử dụng</div>\n                                    </div>\n                                    \n                                    <td class=\"ms-td-viewer ms-sticky td-context-menu\">\n                                            <button class=\"btn-edit\">Sửa</button>\n                                            <the-button class=\"btn-selectdown combobox__button\" @click=\"handleSelectContextMenu(index)\"></the-button>                                 \n                                    </td>\n                                    <td class=\"ms-hidden\"></td>\n                                    <td class=\"ms-hidden\"></td>\n                                </tr> \n                            </tbody>\n                        </table>\n                    </div>\n                    <div class=\"main__body-footer\">\n                        <div class=\"body__footer-left\">\n                            <p>Tổng số: <b>{{numberRecords}}</b> bản ghi</p>\n                        </div>\n                        <div class=\"body__footer-right\">\n                            <div class=\"combobox select-record\">\n                                <input type=\"text\" class=\"input-main combobox__input select__record-input\" v-bind:value=\"pageSize + ' bản ghi trên 1 trang'\" readonly>\n                                <button class=\"btn-selectdown combobox__button\" @click=\"handleShowPageSize\"></button>\n                                <div class=\"combobox__data\" v-show=\"showSelectPageSize\" >\n                                    <div class=\"data-item\" v-for=\"(item, index) in selectPageSize\" :key=\"index\" @click=\"handleSelectPageSize(item.Value)\" v-bind:class=\"item.Value == pageSize ? 'active-item' : ''\">{{item.Value}} bản ghi trên 1 trang</div>\n                                </div>\n                            </div>\n                            \n                            <button class=\"btn btn-prev\" v-bind:disabled=\"pageNumber == 1 ? disableButtonPrev : !disableButtonPrev\" @click=\"handleChangePage(pageNumber - 1)\">Trước</button>\n                            <div class=\"pagination\">\n                                <div class=\"btn-pagination\" v-for=\"(item, index) in totalPages\" :key=\"index\" @click=\"handleChangePage(item)\" v-bind:class=\"item == pageNumber ? 'active-item' : ''\">{{item}}</div>\n                            </div>\n                            \n                            <button class=\"btn btn-next\" v-bind:disabled=\"pageNumber == totalPages ? !disableButtonNext : disableButtonNext\" @click=\"handleChangePage(pageNumber + 1)\">Sau</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n</template>\n  \n<script>\nimport TheButton from '../base/TheButton.vue';\nimport {selectPageSize} from '../../i18n/i18nCommon'\nimport { headerTableName } from \"../../i18n/i18nCommon\";\nimport moment from 'moment';\n\nexport default {\n    name:\"TheContent\",\n    components: {\n        TheButton\n    },\n    props: {\n\n    },\n    emits:[],\n    created() {\n        const me = this;\n        me.getAllData();\n    },\n    methods:{\n        getAllData(){\n            const me = this;\n            fetch(`https://amis.manhnv.net/api/v1/Employees/filter?pageSize=${me.pageSize}&pageNumber=${me.pageNumber}`,{\n            method: 'GET',\n            headers:{\n                \"Content-Type\": \"application/json\"\n            }\n            }).then((res) => res.json()).then((data) =>{\n                me.employeeList = data.Data;\n                me.numberRecords = data.TotalRecord;\n                me.totalPages = data.TotalPage;\n            }).catch((error) =>{\n                if(me.pageNumber != 1){\n                    me.pageNumber = 1;\n                    me.getAllData();\n                } else{\n                    console.log(error);\n                }\n            })\n        },\n\n        convertFormatDate(date) {\n            return date ? moment(date).format('DD/MM/YYYY') : date;\n        },\n\n        isCheckItem(el){\n            const me = this;\n            return me.selectedEmpolyee.includes(el);\n        },\n\n        checkAllItems(){\n            const me = this;\n            if(me.selectedEmpolyee.length == me.employeeList.length){\n                me.selectedEmpolyee.length = 0;\n            } else{\n                me.selectedEmpolyee.length = 0;\n                me.employeeList.forEach(value => me.selectedEmpolyee.push(value.EmployeeId));\n            }\n        },\n\n        checkSingleItem(el){\n            const me = this;\n            const index = me.selectedEmpolyee.indexOf(el);\n            if(index  > -1){\n                me.selectedEmpolyee.splice(index, 1);\n            } else{\n                me.selectedEmpolyee.push(el);\n            }\n            \n        },\n\n        handleShowPageSize(){\n            const me = this;\n            me.showSelectPageSize = me.showSelectPageSize ? false : true;\n        },\n\n        handleSelectPageSize(el){\n            const me = this;\n            me.showSelectPageSize = false;\n            me.selectedEmpolyee.length = 0;\n            me.pageSize = el;\n            me.getAllData();\n        },\n\n        handleChangePage(el){\n            const me = this;\n            me.pageNumber = el;\n            me.selectedEmpolyee.length = 0;\n            me.getAllData();\n        },\n\n        handleSelectContextMenu(index){\n            const me = this;\n            me.showSelectContextMenu = index;\n        },\n    },\n    data(){\n        return{\n            showSelectPageSize: false, \n            showSelectContextMenu: -1,\n            employeeList: [],\n            pageSize: 20,\n            pageNumber: 1,\n            numberRecords: 0,\n            totalPages: 0,\n            selectPageSize: selectPageSize,\n            headerTableName: headerTableName,\n            disableButtonPrev: true,\n            disableButtonNext: false,\n            selectedEmpolyee: []\n        }\n    }\n}\n</script>\n\n<style scoped>\n@import url(../../style/main.css);\n@import url(../../style/layout/footer.css);\n</style>"]},"metadata":{},"sourceType":"module"}